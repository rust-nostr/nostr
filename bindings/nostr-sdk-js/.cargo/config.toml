[profile.release]
opt-level = 'z'     # Optimize for size.
lto = true          # Enable Link Time Optimization
codegen-units = 1   # Reduce number of codegen units to increase optimizations.
panic = "abort"     # Abort on panic
strip = "debuginfo" # Strip debug symbols from binary. Full strip will cause issues with SQLite

[build]
target = "wasm32-unknown-unknown"
rustflags = [
    "-Cpanic=abort",
    "-Ctarget-feature=+bulk-memory" # Required for SQLite WASM
]

[unstable]
unstable-options = true
build-std = ["core", "alloc", "std", "panic_abort"]
build-std-features = ["optimize_for_size", "panic_immediate_abort"]
